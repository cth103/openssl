def dependencies(target, options):
    return ()

def build(target, options):
    if target.platform == 'windows':
        target.set('RC', '%s-windres' % target.name)
        if target.bits == 32:
            target.command('./Configure mingw -no-shared --prefix=%s' % target.directory)
        else:
            target.command('./Configure mingw64 -no-shared --prefix=%s' % target.directory)
    else:
        if target.platform == 'osx' and target.bits == 32:
            target.set('KERNEL_BITS', '32')
        target.command('./config -no-shared --prefix=%s' % target.directory)
    target.command('make -j%d' % target.parallel)
